<%#
    This sets the classes for the main layout container.
    It will grow, have a background color, and center its content.
  %>
<% content_for :main_container_class, 'w-full flex-1 flex justify-center items-stretch bg-base-200 p-8' %>


<%#
    This is our custom card.
    Because its parent (<main>) has 'items-stretch', this card will be
forced to the full height of the padded area.
    %>
  <div class="w-full bg-base-100 border border-1 border-gray-300 rounded-2xl flex flex-col p-6" data-controller="modal">

    <%# Card Content %>
    <h2 class="text-3xl font-black mb-4 tracking-wide">Your Assessment Results</h2>

    <%# The 'grow' class makes this paragraph expand to push the button to the bottom %>
    <div class="flex flex-col justify-between w-1/2 grow">
      <div class="text-lg font-semibold mt-7">
        Your original nature is 
        <span class="font-bold <%= dosha_color_class(primary_dosha) %>">
          <%= primary_dosha.name.titleize %>.
        </span> 
      </div>

      <div class="text-lg">
        <%= t("doshas.#{primary_dosha.name.downcase}.description") %>
      </div>

      <div class="text-lg font-semibold">
        <ul class="list-disc list-inside space-y-1">
          <% t("doshas.#{primary_dosha.name.downcase}.bullet_points").each do |point| %>
            <li><%= point %></li>
          <% end %>
        </ul>
      </div>

      <div class="text-lg">
        <strong>Balanced:</strong> <%= t("doshas.#{primary_dosha.name.downcase}.in_balance") %>
      </div>

      <div class="text-lg">
        <strong>Unbalanced:</strong> <%= t("doshas.#{primary_dosha.name.downcase}.out_of_balance") %>
      </div>

      <% if authenticated? %>
        <%= link_to "Dashboard", dashboard_path, class: "btn btn-primary font-semibold text-white text-lg w-1/2", data: { turbo: false } %>
    <% else %>
      <button class="btn btn-primary font-semibold text-white text-lg w-1/2" data-action="click->modal#open">Save Your Results</button>
    <% end %>
    </div>

    <%= render 'shared/sign_up_modal' %>
  </div>

