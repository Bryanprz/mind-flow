<%#
    This sets the classes for the main layout container.
    It will grow, have a background color, and center its content.
  %>
<% content_for :main_container_class, 'w-full flex-1 flex justify-center items-stretch bg-base-200 p-8' %>

<%#
    This is our custom card.
    Because its parent (<main>) has 'items-stretch', this card will be
forced to the full height of the padded area.
    %>
  <div class="w-full bg-base-100 border border-1 border-gray-300 rounded-2xl flex flex-col p-6" data-controller="modal">

    <%# Card Content %>
    <h2 class="text-3xl font-black mb-4 tracking-wide">Users Show Page</h2>

    <%# The 'grow' class makes this paragraph expand to push the button to the bottom %>
    <div class="flex flex-col justify-between w-1/2 grow">

      <% if @primary_dosha %>
        <div class="text-lg font-semibold mt-7">
          Your original nature is 
          <span class="font-bold <%= dosha_classes(@primary_dosha.name) %>">
            <%= @primary_dosha.name.titleize %>.
          </span> 
        </div>

        <div class="text-lg">
          <%= dosha_description(@primary_dosha.name) %>
        </div>

        <div class="text-lg font-semibold">
          <%= render_dosha_bullet_points(@primary_dosha.name) %>
        </div>

        <div class="text-lg">
          <strong>Balanced:</strong> <%= render_dosha_in_balance_text(@primary_dosha.name) %>
        </div>

        <div class="text-lg">
          <strong>Unbalanced:</strong> <%= render_dosha_out_of_balance_text(@primary_dosha.name) %>
        </div>
      <% else %>
        <p class="text-lg font-semibold mt-7">No assessment results found for this user.</p>
      <% end %>

      <%= form_with url: start_vikruti_assessment_path, method: :post, data: { turbo_frame: "main_content_area" } do %>
        <%= button_tag "Current Imbalance Assessment", class: "btn btn-primary text-white text-lg" %>
      <% end %>
    </div>
  </div>


