<% content_for :main_container_class, 'w-full h-full bg-base-200 p-8' %>
<% content_for :title, "Healing plans" %>

<div class="w-full flex flex-col items-center">
  <div class="max-w-4xl mx-auto w-full space-y-6 flex-grow">
    <div class="flex flex-col items-center justify-between">
      <h1 class="font-bold text-4xl">Healing plans</h1>
    </div>

    <table class="table bg-base-100">
      <thead>
        <tr>
          <th></th>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Version</th>
          <th>Active</th>
          <th>User</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% @healing_plans.each_with_index do |healing_plan, index| %>
          <tr>
            <th><%= index + 1 %></th>
            <td><%= healing_plan.name %></td>
            <td><%= healing_plan.type %></td>
            <td><%= truncate(healing_plan.description.to_plain_text, length: 50) %></td>
            <td><%= healing_plan.version %></td>
            <td><%= healing_plan.is_active ? 'Yes' : 'No' %></td>
            <td><%= healing_plan.user.name %></td>
            <td><%= link_to "Show Details", healing_plan_path(healing_plan), class: "btn btn-secondary btn-xs" %></td>
          </tr>
        <% end %>
      </tbody>
      <tfoot>
      </tfoot>
    </table>
  </div>
  <%= link_to "Daily Check-in", my_healing_plan_path, class: "rounded-lg py-3 px-5 bg-primary text-white block font-medium mt-5" %>
</div>
