<div id="<%= dom_id chronic_illness %>" class="flex items-center space-x-4">
  <% if local_assigns.has_key?(:form) && form.present? %>
    <%= form.check_box :chronic_illness_ids, { multiple: true, class: "hidden peer", id: "chronic_illness_ids_#{chronic_illness.id}" }, chronic_illness.id, nil %>
    <%= form.label "chronic_illness_ids_#{chronic_illness.id}", class: "flex flex-col items-center w-36 h-36 cursor-pointer rounded-lg p-2 transition-all duration-200 ease-in-out hover:-translate-y-1 hover:ring-2 hover:ring-offset-2 hover:ring-primary hover:scale-105 active:scale-95 peer-checked:ring-2 peer-checked:ring-offset-2 peer-checked:ring-primary" do %>
      <% if chronic_illness.icon.present? %>
        <%= image_tag "icons/#{chronic_illness.icon}", alt: chronic_illness.name, class: "w-36 h-36 object-contain" %>
      <% end %>
      <span class="text-md font-semibold font-gray text-gray-600 text-center mt-2">
        <%= chronic_illness.name %>
      </span>
    <% end %>
  <% else %>
    <%= link_to start_prakruti_assessment_path(chronic_illness_id: chronic_illness.id), data: { turbo: false } do %>
      <div class="flex flex-col items-center w-36 h-36 transition-all duration-200 ease-in-out hover:-translate-y-1 hover:ring-2 hover:ring-offset-2 hover:ring-primary hover:scale-105 active:scale-95">
        <% if chronic_illness.icon.present? %>
          <%= image_tag "icons/#{chronic_illness.icon}", alt: chronic_illness.name, class: "w-36 h-36 object-contain" %>
        <% end %>

        <span class="text-md font-semibold font-gray text-gray-600 text-center mt-2">
          <%= chronic_illness.name %>
        </span>
      </div>
    <% end %>
  <% end %>
</div>